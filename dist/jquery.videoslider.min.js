/*! Videoslider - v0.1.0 - 2017-09-27
* https://github.com/marrouchi/jquery-videoslider.git
* Copyright (c) 2017 Mohamed marrouchi; Licensed MIT */
!function(a){a.videoslider=function(b){b=a.extend({},a.videoslider.options,b),this.position=0,this.isPlaying=!1,this.scrollDirection="forward",this.selector=a(b.selector),this.intervals=a(".videoslider-slide",this.selector).map(function(){return a(this).data("vstime")}).toArray(),this.video=a("video",this.selector).get(0),this.rewind=function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){window.setTimeout(a,15)},b=this,c=function(){b.video.currentTime>0&&b.isPlaying&&(b.video.currentTime+=-.05,a(c))};c()},this.slideHandle=function(d){c.isPlaying||(c.isPlaying=!0,"forward"===c.scrollDirection&&c.position<c.intervals.length-1?(a(".videoslider-slide:eq("+c.position+")",this.selector).fadeOut(),c.position++,c.video.play(),d.preventDefault()):b.enableRewind&&"backward"===c.scrollDirection&&c.position>0?(a(".videoslider-slide:eq("+c.position+")",this.selector).fadeOut(),c.position--,c.rewind(),d.preventDefault()):c.isPlaying=!1)};var c=this;a(c.video).on("loadedmetadata",function(){c.intervals[c.intervals.indexOf("duration")]=this.duration}),c.video.playbackRate=b.playbackRate,a(c.video).on("ended",function(){c.isPlaying=!1}),a(c.video).on("timeupdate",function(){("forward"===c.scrollDirection&&this.currentTime>=c.intervals[c.position]||"backward"===c.scrollDirection&&this.currentTime<=c.intervals[c.position])&&(this.pause(),c.isPlaying=!1,a(".videoslider-slide:eq("+c.position+")",c.selector).fadeIn())}),a(document).keydown(function(a){switch(a.which){case 38:c.scrollDirection="backward";break;case 40:c.scrollDirection="forward";break;default:return}c.slideHandle(a)}),a(c.selector).on("mousewheel",function(a){c.scrollDirection=a.originalEvent.deltaY>0?"forward":"backward",c.slideHandle(a)})},a.videoslider.options={playbackRate:1,enableRewind:!0,selector:"#videoslider"}}(jQuery);